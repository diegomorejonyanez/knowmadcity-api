(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8a56cf2e"],{"019a":function(t,e,r){},"25f1":function(t,e,r){"use strict";r("019a")},"411d":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Layout",{staticClass:"authentication-bg-clients"},[o("PageHeader",{attrs:{title:t.title,items:t.items}}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("div",{staticClass:"card p-4",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"}},[o("div",{staticClass:" px-3 row justify-content-center"},[o("img",{staticStyle:{"border-radius":"100%"},attrs:{src:r("4ac0"),width:"200px",height:"200px",alt:""}})]),o("b-card",{staticClass:"rounded",staticStyle:{"max-width":"20rem","background-color":"rgba(0,0,0,0.5)",color:"white"},attrs:{"no-body":"","img-src":t.usuarioDB.imagen,"img-alt":"Image","img-top":""}},[o("b-card-body",{staticClass:"text-white",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"}},[o("b-card-sub-title",{staticClass:"mb-2 text-white"},[t._v(t._s(t.usuarioDB.nombre)+" "+t._s(t.usuarioDB.apellido))])],1),o("b-list-group",{staticClass:"text-white",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"},attrs:{flush:""}},[o("b-list-group-item",{staticClass:"text-white",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"},on:{click:function(e){return t.editar()}}},[t._v("Editar Perfil")]),o("b-list-group-item",{staticClass:"text-white",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"},on:{click:function(e){return t.setPass()}}},[t._v("Editar Pass")])],1),o("b-card-footer",{staticClass:"text-white",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"}},[o("a",{staticClass:"btn btn-outline-secondary",attrs:{href:""},on:{click:function(e){return t.salir()}}},[t._v(" Cerrar Sesión")])])],1)],1)]),o("div",{staticClass:"col-md-8",staticStyle:{"background-color":"rbga(0,0,0,0.6)"}},[o("div",{staticClass:"card",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"white"}},[o("div",{staticClass:"p-4 row justify-content-between"},[o("div",{staticClass:" px-3"},[o("h3",{staticClass:"mb-2 nombre text-white"},[t._v(t._s(t.usuarioDB.nombre))]),o("p",[t._v("Correo: "+t._s(t.usuarioDB.email))])]),o("h5",{staticClass:"mb-0 text-white"},[t._v("Tipo de Usuario: "+t._s(t.usuarioDB.rol))])])])])]),o("b-modal",{attrs:{id:"modal",false:"",size:"lg",title:"Gestión de usuarios","hide-footer":""}},[o("ValidationObserver",{ref:"form"},[o("b-row",[o("b-col",[o("div",{attrs:{id:"preview"}},[t.url?o("img",{staticClass:"rounded",staticStyle:{float:"center!importan"},attrs:{width:"20%",src:t.url}}):t._e()]),o("b-form-file",{staticClass:"mt-3",attrs:{plain:""},on:{change:t.onFileChange},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1),o("b-row",[o("b-col",[o("div",{staticClass:"form-group"},[o("label",[t._v("Nombre")]),o("ValidationProvider",{attrs:{name:"nombre",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nombre,expression:"form.nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.nombre},on:{input:function(e){e.target.composing||t.$set(t.form,"nombre",e.target.value)}}}),o("span",{staticStyle:{color:"red"}},[t._v(t._s(r[0]))])]}}])})],1)])],1),o("b-row",[o("b-col",[o("div",{staticClass:"form-group"},[o("label",[t._v("Telefono")]),o("ValidationProvider",{attrs:{name:"telefono",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.telefono,expression:"form.telefono"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.telefono},on:{input:function(e){e.target.composing||t.$set(t.form,"telefono",e.target.value)}}}),o("span",{staticStyle:{color:"red"}},[t._v(t._s(r[0]))])]}}])})],1)])],1),o("b-row",[o("b-col",[o("div",{staticClass:"form-group"},[o("label",[t._v("Fax")]),o("ValidationProvider",{attrs:{name:"telefono",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fax,expression:"form.fax"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.fax},on:{input:function(e){e.target.composing||t.$set(t.form,"fax",e.target.value)}}}),o("span",{staticStyle:{color:"red"}},[t._v(t._s(r[0]))])]}}])})],1)])],1),o("b-row",[o("b-col",[o("div",{staticClass:"form-group"},[o("label",[t._v("Celular")]),o("ValidationProvider",{attrs:{name:"telefono",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.celular,expression:"form.celular"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.celular},on:{input:function(e){e.target.composing||t.$set(t.form,"celular",e.target.value)}}}),o("span",{staticStyle:{color:"red"}},[t._v(t._s(r[0]))])]}}])})],1)])],1)],1),o("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){return t.switchLoc()}}},[t._v("Editar Perfil")])],1),o("b-modal",{attrs:{id:"modalPass",false:"",size:"md",title:"Gestión de contraseña","hide-footer":""}},[o("ValidationObserver",{ref:"formPass"},[o("b-row",[o("b-col",[o("div",{staticClass:"form-group"},[o("label",[t._v("Contraseña")]),o("ValidationProvider",{attrs:{name:"password",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:" "},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),o("span",{staticStyle:{color:"red"}},[t._v(t._s(r[0]))])]}}])})],1)])],1),o("b-row",[o("b-col",[o("div",{staticClass:"form-group"},[o("label",[t._v("Confirmar contraseña")]),o("ValidationProvider",{attrs:{name:"repass",rules:"required|confirmed:password"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.repass,expression:"form.repass"}],staticClass:"form-control",attrs:{type:"password",placeholder:" "},domProps:{value:t.form.repass},on:{input:function(e){e.target.composing||t.$set(t.form,"repass",e.target.value)}}}),o("span",{staticStyle:{color:"red"}},[t._v(t._s(r[0]))])]}}])})],1)])],1)],1),o("button",{staticClass:"btn btn-block btn-success",on:{click:function(e){return t.switchLocPass()}}},[t._v("Editar Contraseña")])],1),o("footer",{staticClass:"footer dark",staticStyle:{"background-color":"#505d69",color:"#fff"}},[o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[t._v(" 2021 © ")]),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"text-sm-right d-none d-sm-block"},[t._v(" Desarrollado por © Innova Tu Hotel ")])])])])])],1)},a=[],s=r("1da1"),i=r("5530"),n=(r("2b3d"),r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),r("2f62")),l=r("7bb1"),c=r("5658"),u=r("2579"),d={components:{Layout:c["a"],PageHeader:u["a"],ValidationProvider:l["b"],ValidationObserver:l["a"]},data:function(){return{title:"Gestio de perfil",items:[{text:"Perfil"}],dropzoneOptions:{thumbnailWidth:150,maxFilesize:.5,headers:{"My-Awesome-Header":"header value"}},ver:!1,url:"",url_firma:"",modal:!0,file:null,firma:null,email:"",password:"",totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:["nombre_tercero","descripcion_tercero","actions"],user:[],terceros:[],editMode:!1,form:{id:"",nombre:"",username:"",apellido:"",email:"",telefono:"",tipo:"",sexo:"",entidad:"",cargo:"",codigo:"",foto:"",password:"",repass:"",roles:""}}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(n["b"])(["guardarUsuario"])),Object(n["b"])(["cerrarSession"])),{},{salir:function(){localStorage.removeItem("token"),this.$router.push({name:"Home"}),this.cerrarSession()},session:function(){if(localStorage.getItem("token")){var t=localStorage.getItem("token");this.guardarUsuario(t)}else this.$router.push({name:"Home"})},listarUsers:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("api/cliente").then((function(e){t.user=e.data,console.log(e.data)})).catch((function(t){console.log("error"+t)}));case 2:case"end":return e.stop()}}),e)})))()},editar:function(){this.form.nombre=this.user.nombre,this.form.fax=this.user.fax,this.form.id=this.user.id,this.form.telefono=this.user.telefono,this.form.celular=this.user.celular,this.form.imagen=this.user.imagen,this.form.user_id=this.user.user_id,this.$root.$emit("bv::show::modal","modal","#btnShow")},setPass:function(){this.$root.$emit("bv::show::modal","modalPass","#btnShow")},login:function(){},switchLoc:function(){var t=this;this.$refs.form.validate().then((function(e){e&&t.editarUsuario()}))},switchLocPass:function(){var t=this;this.$refs.formPass.validate().then((function(e){e?t.editarPassword():t.$swal("Contraseñas no coinciden!","warning")}))},editarUsuario:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in r=new FormData,t.file&&r.append("filename",t.file),o=t.form,o)r.append(a,o[a]);return e.next=6,t.axios.put("api/cliente",r).then((function(e){if(200==e.status)for(var r in t.$swal("Usuario Editardo","","success"),t.$root.$emit("bv::hide::modal","modal","#btnShow"),o)t.form[r]=""})).catch((function(e){t.$swal("No se pudo editar","","warning")}));case 6:case"end":return e.stop()}}),e)})))()},editarPassword:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in r=new FormData,o=t.form,o)r.append(a,o[a]);return e.next=5,t.axios.put("api/auth/recover-password",r).then((function(e){if(200==e.status)for(var r in t.$swal("Contraseña Editada","","success"),t.$root.$emit("bv::hide::modal","modalPass","#btnShow"),o)t.form[r]=""})).catch((function(e){console.log(e.response.data.menssage),t.$swal("No se pudo editar","","warning")}));case 5:case"end":return e.stop()}}),e)})))()},onFileChange:function(t){var e=t.target.files[0];this.url=URL.createObjectURL(e)},toggleModal:function(){this.modal=!this.modal}}),created:function(){this.session(),this.listarUsers()},computed:Object(i["a"])(Object(i["a"])({},Object(n["d"])(["usuarioDB"])),{},{rows:function(){return this.user.length}})},m=d,f=(r("25f1"),r("2877")),p=Object(f["a"])(m,o,a,!1,null,null,null);e["default"]=p.exports},"4ac0":function(t,e,r){t.exports=r.p+"img/perfil.f16d36d9.png"}}]);
//# sourceMappingURL=chunk-8a56cf2e.dbc15c25.js.map