(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21f16fae"],{"5b70":function(t,e,o){t.exports=o.p+"img/undraw_fill_form_re_cwyf.9fa52eb4.svg"},b5d7:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Layout",{staticClass:"authentication-bg"},[r("PageHeader",{attrs:{title:t.title,items:t.items}}),r("div",{staticClass:"clearfix mb-3"},[r("b-button",{staticClass:"float-right btn-info",attrs:{left:""},on:{click:function(e){t.$bvModal.show("modal"),t.resete(),t.editMode=!1}}},[t._v("Crear proyectos")])],1),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card",staticStyle:{"background-color":"rgba(0,0,0,0.5)",color:"#fff"}},[r("div",{staticClass:"row p-2"},[r("div",{staticClass:"col-4 pl-4"},[r("label",[t._v("Seleccione el cliente para filtrar sus proyectos")]),r("v-select",{staticStyle:{"background-color":"rgba(255,255,255,0.5)",color:"#fff","border-radius":"25px"},attrs:{options:t.clientes,reduce:function(t){return t.id},getOptionLabel:function(t){return t.nombre}},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1),r("div",{staticClass:"col-4 pl-4"},[r("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Buscar: escriba el nombre del proyecto")]),r("b-form-input",{staticClass:"form-control form-control-sm ml-2",staticStyle:{"background-color":"rgba(255,255,255,0.5)",color:"#fff","border-radius":"25px"},attrs:{type:"search",placeholder:"Escriba el nombre del proyecto aqui..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]),r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"}),r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_length",attrs:{id:"tickets-table_length"}},[r("label",{staticClass:"d-inline-flex align-items-center"},[t._v(" Mostrar "),r("b-form-select",{attrs:{size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" Proyectos ")],1)])])]),r("div",{staticClass:"table-responsive mb-0"},[r("b-table",{attrs:{items:t.proyectos,fields:t.fields,responsive:"sm","per-page":t.perPage,"current-page":t.currentPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,"filter-included-fields":t.filterOn},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(empresa)",fn:function(e){return[t._v(" "+t._s(e.item.empresa.nombre)+" ")]}},{key:"cell(estado)",fn:function(e){return["aprobado"===e.item.status?r("span",{staticClass:"badge badge-success"},[t._v("Aprobado")]):r("span",{staticClass:"badge badge-warning"},[t._v("Pendiente")])]}},{key:"cell(actions)",fn:function(e){return[r("b-dropdown",{attrs:{size:"sm"},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" Acciones "),r("i",{staticClass:"mdi mdi-chevron-down"})]},proxy:!0}],null,!0)},[r("b-dropdown-item-button",{on:{click:function(o){t.editMode=!0,t.setear(e.item.id)}}},[t._v("Editar Proyecto")]),r("b-dropdown-item-button",{on:{click:function(o){t.editMode=!0,t.eliminar(e.item.id)}}},[t._v("Eliminar Proyecto")]),r("b-dropdown-item-button",[r("a",{attrs:{href:"proyecto/"+e.item.id}},[t._v("Ver")])])],1)]}}])})],1),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"dataTables_paginate paging_simple_numbers float-right"},[r("ul",{staticClass:"pagination pagination-rounded mb-0"},[r("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])])]),r("br"),r("br"),r("br"),r("b-modal",{attrs:{id:"modal_ver",false:"",size:"xl","hide-footer":"",title:"Gestión de proyectos","ok-only":""}},[r("div",[r("h4",{attrs:{align:"center"}},[t._v("USE EL SIGUIENTE BOTÓN PARA VER O DESCARGAR EL PROYECTO DE NOMBRE:")]),r("VueDocPreview",{attrs:{value:t.form.archivo,type:"office"}})],1)]),r("b-modal",{attrs:{id:"modal",false:"",size:"lg","hide-footer":"",title:"Gestión de proyectos","ok-only":""}},[r("ValidationObserver",{ref:"form"},[r("form-wizard",{attrs:{"next-button-text":"Siguiente","back-button-text":"Anterior","finish-button-text":"---",color:"#7fa3a3",transition:"fade"}},[r("tab-content",{attrs:{title:"Bienvenido",subtitle:"Paso 1",icon:"ri-star-3-fill"}},[r("b-row",[r("b-col",[r("p",{attrs:{align:"center"}}),r("h5",{attrs:{align:"center"}},[t._v("Bienvenido al Formulario de creación de Proyectos")]),r("p"),r("p",{attrs:{align:"justify"}},[r("b",[t._v("En el siguiente formulario podrá agregar, editar o actualizar el proyecto segun el cliente y la empresa que lo haya solicitado")])])]),r("b-col",[r("p",{attrs:{align:"center"}},[r("img",{attrs:{src:o("5b70"),width:"450",height:"250",alt:""}})])])],1)],1),r("tab-content",{attrs:{title:"Seleccionar Cliente y empresa",subtitle:"Paso 1",icon:"ri-user-3-fill"}},[r("b-row",[r("b-col",[r("ValidationProvider",{attrs:{name:"cliente",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("label",[t._v("Cliente")]),r("v-select",{attrs:{options:t.clientes,reduce:function(t){return t.id},getOptionLabel:function(t){return t.nombre}},model:{value:t.cliente,callback:function(e){t.cliente=e},expression:"cliente"}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)],1),r("b-row",[r("b-col",[r("ValidationProvider",{attrs:{name:"empresas",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("label",[t._v("Empresas ")]),r("v-select",{attrs:{options:t.empresas,reduce:function(t){return t.id},getOptionLabel:function(t){return t.nombre}},model:{value:t.form.empresa_id,callback:function(e){t.$set(t.form,"empresa_id",e)},expression:"form.empresa_id"}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)],1),r("b-row",[r("b-col",[r("ValidationProvider",{attrs:{name:"Aprueba",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("label",[t._v("Aprueba")]),r("v-select",{attrs:{options:t.users,reduce:function(t){return t.id},getOptionLabel:function(t){return t.nombre}},model:{value:t.form.aprueba_id,callback:function(e){t.$set(t.form,"aprueba_id",e)},expression:"form.aprueba_id"}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)],1)],1),r("tab-content",{attrs:{title:"Descripción del Proyecto",subtitle:"Paso 2",icon:"ri-building-2-fill"}},[r("b-row",[r("b-col",[r("div",{staticClass:"form-group"},[r("label",[t._v("Titulo del Proyecto ")]),r("ValidationProvider",{attrs:{name:"nombre",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.titulo,expression:"form.titulo"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.titulo},on:{input:function(e){e.target.composing||t.$set(t.form,"titulo",e.target.value)}}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)])],1),r("b-row",[r("b-col",[r("div",{staticClass:"form-group"},[r("label",[t._v("Descripción corta ")]),r("ValidationProvider",{attrs:{name:"nombre",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.descripcion,expression:"form.descripcion"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.descripcion},on:{input:function(e){e.target.composing||t.$set(t.form,"descripcion",e.target.value)}}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)])],1),r("b-row",[r("b-col",[r("label",[t._v("Descripción de la iniciativa ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.iniciativa,expression:"form.iniciativa"}],staticClass:"form-control",attrs:{type:"text",placeholder:" ",size:"2"},domProps:{value:t.form.iniciativa},on:{input:function(e){e.target.composing||t.$set(t.form,"iniciativa",e.target.value)}}})]),r("b-col",[r("button",{staticClass:"btn btn-success ",attrs:{disabled:""===t.form.iniciativa},on:{click:function(e){return t.cargarIniciativa()}}},[t._v("Añadir +")])]),r("b-col",[r("ol",t._l(t.form.descripcion_iniciativa,(function(e,o){return r("li",{key:o},[t._v(t._s(e.nombre)+" "),r("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.eliminarIniciativa(o)}}},[t._v("x")])])})),0)])],1)],1),r("tab-content",{attrs:{title:"Justificación del proyecto",subtitle:"Paso 3",icon:"ri-currency-fill"}},[r("b-row",[r("b-col",[r("div",{staticClass:"form-group"},[r("label",[t._v("Justificación de la necesidad ")]),r("ValidationProvider",{attrs:{name:"nombre",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.justificacion,expression:"form.justificacion"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.justificacion},on:{input:function(e){e.target.composing||t.$set(t.form,"justificacion",e.target.value)}}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)])],1),r("b-row",[r("div",{staticClass:"col-11"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Promotores ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.promotor,expression:"form.promotor"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.promotor},on:{input:function(e){e.target.composing||t.$set(t.form,"promotor",e.target.value)}}})])]),r("div",{staticClass:"col-1 py-4"},[r("label"),r("button",{staticClass:"btn btn-success ",attrs:{disabled:""===t.form.promotor},on:{click:function(e){return t.cargarPromotor()}}},[t._v("+")])])]),r("b-row",[r("ol",t._l(t.form.promotores,(function(e,o){return r("li",{key:o},[t._v(t._s(e.nombre)+" "),r("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.eliminarpromotor(o)}}},[t._v("X")])])})),0)]),r("b-row",[r("div",{staticClass:"col-11"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Objetivos de la iniciativa ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.objetivo,expression:"form.objetivo"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.objetivo},on:{input:function(e){e.target.composing||t.$set(t.form,"objetivo",e.target.value)}}})])]),r("div",{staticClass:"col-1 py-4"},[r("label"),r("button",{staticClass:"btn btn-success ",attrs:{disabled:""===t.form.objetivo},on:{click:function(e){return t.cargarObjetivo()}}},[t._v("+")])])]),r("b-row",[r("ol",t._l(t.form.objetivos,(function(e,o){return r("li",{key:o},[t._v(t._s(e.nombre)+" "),r("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.eliminarObjetivo(o)}}},[t._v("X")])])})),0)]),r("b-row",[r("b-col",[r("div",{staticClass:"form-group"},[r("label",[t._v("Presupuesto")]),r("ValidationProvider",{attrs:{name:"numero de empleados",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.presupuesto,expression:"form.presupuesto"}],staticClass:"form-control",attrs:{type:"text",placeholder:" "},domProps:{value:t.form.presupuesto},on:{input:function(e){e.target.composing||t.$set(t.form,"presupuesto",e.target.value)}}}),r("span",{staticStyle:{color:"red"}},[t._v(t._s(o[0]))])]}}])})],1)])],1),r("b-row",[r("b-col",[r("label",[t._v("Soporte del Proyecto")]),r("b-form-file",{attrs:{placeholder:"Seleccione su archivo pdf...","drop-placeholder":"Drop file here..."},on:{change:t.onFileChange},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1)],1)],1),r("tab-content",{attrs:{title:"Guardar Proyecto",subtitle:"Paso 4",icon:"ri-save-2-fill"}},[t.ver||t.editMode?t._e():r("button",{staticClass:"btn btn-block float-right btn-success",on:{click:t.switchLoc}},[t._v("Crear Proyecto")]),!t.ver&&t.editMode?r("button",{staticClass:"btn btn-block float-right btn-success",on:{click:t.switchLoc}},[t._v("Guardar Cambios")]):t._e()])],1)],1)],1),r("footer",{staticClass:"footer dark",staticStyle:{"background-color":"#505d69",color:"#fff"}},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[t._v(" 2021 © ")]),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"text-sm-right d-none d-sm-block"},[t._v(" Desarrollado por © Innova Tu Hotel ")])])])])])],1)},i=[],s=o("1da1"),a=o("5530"),n=o("ade3"),c=(o("a434"),o("2b3d"),o("d3b7"),o("3ca3"),o("ddb0"),o("96cf"),o("6dfc"),o("4a7a")),l=o.n(c),u=o("92c3"),d=o.n(u),m=o("2f62"),p=o("7bb1"),f=o("5658"),b=o("2579"),v=o("6480"),h=o("2ee4"),g=(o("da93"),o("e8c3")),y=o.n(g),_={components:{vueDropzone:d.a,Layout:f["a"],PageHeader:b["a"],ValidationProvider:p["b"],ValidationObserver:p["a"],vSelect:l.a,VueHtml2pdf:v["a"],FormWizard:h["FormWizard"],TabContent:h["TabContent"],VueDocPreview:y.a},data:function(){var t;return t={title:"Administración de Proyectos",items:[{text:"Gestión corporativa"},{text:"proyectos",active:!0}],dropzoneOptions:{thumbnailWidth:150,maxFilesize:.5,headers:{"My-Awesome-Header":"header value"}},ver:!1,url:"",url_firma:"",modal:!0,file:null,firma:null,email:"",password:"",totalRows:1,currentPage:1,perPage:10,pageOptions:[10,25,50,100],filter:null,filterOn:[],sortBy:"age",sortDesc:!1,fields:["titulo","presupuesto","empresa","estado","actions"],proyectos:[],areas:[]},Object(n["a"])(t,"proyectos",[]),Object(n["a"])(t,"empresas",[]),Object(n["a"])(t,"clientes",[]),Object(n["a"])(t,"clien",[]),Object(n["a"])(t,"users",[]),Object(n["a"])(t,"cliente",""),Object(n["a"])(t,"client",""),Object(n["a"])(t,"editMode",!1),Object(n["a"])(t,"form",{titulo:"",iniciativa:"",descripcion_iniciativa:[],promotor:"",descripcion:"",promotores:[],metas:[],objetivo:"",objetivos:[],presupuesto:"",empresa_id:"",aprueba_id:""}),t},watch:{cliente:function(t){this.form.cliente_id=t,this.listarEmpresas()},client:function(t){this.form.cliente_id=t,this.listarProyectos()}},props:{finishButtonText:{type:String,default:"Completar",hidden:!0}},methods:Object(a["a"])(Object(a["a"])({},Object(m["b"])(["guardarUsuario"])),{},{submit:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("email submitted!");case 1:case"end":return t.stop()}}),t)})))()},resete:function(){var t=this.form;for(var e in t)"descripcion_iniciativa"==e?this.form.descripcion_iniciativa=[]:"promotores"==e?this.form.promotores=[]:"objetivos"==e?this.form.objetivos=[]:this.form[e]=""},switchLoc:function(){var t=this;this.editMode?this.$refs.form.validate().then((function(e){e&&t.editarProyecto()})):this.$refs.form.validate().then((function(e){e&&t.agregarProyecto()}))},cargarPromotor:function(){this.form.promotores.push({nombre:this.form.promotor})},eliminarpromotor:function(t){this.form.promotores.splice(t,1)},cargarObjetivo:function(){this.form.objetivos.push({nombre:this.form.objetivo})},eliminarObjetivo:function(t){this.form.objetivos.splice(t,1)},cargarIniciativa:function(){this.form.descripcion_iniciativa.push({nombre:this.form.iniciativa})},eliminarIniciativa:function(t){this.form.descripcion_iniciativa.splice(t,1)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},agregarProyecto:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in o=new FormData,r=t.form,r)"descripcion_iniciativa"==i||"promotores"==i||"objetivos"==i?o.append(i,JSON.stringify(r[i])):o.append(i,r[i]);return t.file&&o.append("filename",t.file),e.next=6,t.axios.post("api/proyectos",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&(t.$swal("Creado!!!","","success"),t.listarProyectos(),t.$root.$emit("bv::hide::modal","modal","#btnShow"))})).catch((function(e){t.$swal("Nose pudo crear!!!","","warning")}));case 6:case"end":return e.stop()}}),e)})))()},editarProyecto:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i in o=new FormData,r=t.form,r)"descripcion_iniciativa"==i||"promotores"==i||"objetivos"==i?o.append(i,JSON.stringify(r[i])):o.append(i,r[i]);return t.file&&o.append("filename",t.file),e.next=6,t.axios.put("api/proyectos",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(200==e.status)for(var o in t.$swal("Editado con exito","","success"),t.listarProyectos(),t.$root.$emit("bv::hide::modal","modal","#btnShow"),r)t.form[o]=""})).catch((function(e){t.$swal("ocurrio un problema","","warning")}));case 6:case"end":return e.stop()}}),e)})))()},setear:function(t){for(var e=0;e<this.proyectos.length;e++)if(this.proyectos[e].id===t)return this.cliente=this.proyectos[e].empresa.cliente_id,this.form.id=this.proyectos[e].id,this.form.numero=this.proyectos[e].numero,this.form.titulo=this.proyectos[e].titulo,this.form.status=this.proyectos.status,this.form.presupuesto=this.proyectos[e].presupuesto,this.form.promotores=JSON.parse(this.proyectos[e].promotores),this.form.objetivos=JSON.parse(this.proyectos[e].objetivos),this.form.descripcion_iniciativa=JSON.parse(this.proyectos[e].descripcion_iniciativa),this.form.justificacion=this.proyectos[e].justificacion,this.form.descripcion=this.proyectos[e].descripcion,this.form.empresa_id=this.proyectos[e].empresa_id,this.form.archivo=this.proyectos[e].archivo,this.form.cliente_id=this.proyectos[e].empresa.cliente_id,this.form.aprueba_id=this.proyectos[e].aprueba_id,void this.$root.$emit("bv::show::modal","modal","#btnShow")},verdocumento:function(t){for(var e=0;e<this.proyectos.length;e++)if(this.proyectos[e].id===t)return this.cliente=this.proyectos[e].empresa.cliente_id,this.form.id=this.proyectos[e].id,this.form.numero=this.proyectos[e].numero,this.form.titulo=this.proyectos[e].titulo,this.form.status=this.proyectos.status,this.form.presupuesto=this.proyectos[e].presupuesto,this.form.promotores=JSON.parse(this.proyectos[e].promotores),this.form.objetivos=JSON.parse(this.proyectos[e].objetivos),this.form.descripcion_iniciativa=JSON.parse(this.proyectos[e].descripcion_iniciativa),this.form.justificacion=this.proyectos[e].justificacion,this.form.empresa_id=this.proyectos[e].empresa_id,this.form.archivo=this.proyectos[e].archivo,this.form.cliente_id=this.proyectos[e].empresa.cliente_id,this.form.aprueba_id=this.proyectos[e].empresa.aprueba_id,void this.$root.$emit("bv::show::modal","modal_ver","#btnShow")},generateReport:function(){this.$refs.html2Pdf.generatePdf()},eliminarProyecto:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=new FormData,r.append("id",t),o.next=4,e.axios.post("api/proyectos/delete",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){200==t.status&&(e.$swal("Eliminado con exito!","","success"),e.listarProyectos())})).catch((function(t){console.log(t.response.data.menssage),e.$swal(t.response.data)}));case 4:case"end":return o.stop()}}),o)})))()},eliminar:function(t){var e=this;this.$swal({title:"Desea borrar este proyecto?",icon:"question",iconHtml:"",confirmButtonText:"Si",cancelButtonText:"No",showCancelButton:!0,showCloseButton:!0}).then((function(o){o.isConfirmed&&e.eliminarProyecto(t)}))},listarclientes:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("api/clientes").then((function(e){t.clientes=e.data,t.clien=e.data})).catch((function(t){console.log("error"+t)}));case 2:case"end":return e.stop()}}),e)})))()},listarEmpresas:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new FormData,o.append("cliente_id",t.form.cliente_id),e.next=4,t.axios.post("api/empresas/listar",o).then((function(e){t.empresas=e.data})).catch((function(t){console.log("error"+t)}));case 4:case"end":return e.stop()}}),e)})))()},listarProyectos:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=new FormData,o.append("cliente_id",t.form.cliente_id),e.next=4,t.axios.post("api/proyectos/listar",o).then((function(e){t.proyectos=e.data})).catch((function(t){console.log("error"+t)}));case 4:case"end":return e.stop()}}),e)})))()},setEmail:function(){this.form.username=this.form.email},setRoles:function(){"Administrador"===this.form.tipo?(this.form.codigo="",this.form.entidad="No",this.form.cargo="",this.form.roles="3"):"Coordinador"===this.form.tipo?(this.form.entidad="No",this.form.cargo="",this.form.roles="2"):this.form.roles="1"},listarUsers:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get("api/user/admin").then((function(e){t.users=e.data.rows})).catch((function(t){console.log("error"+t)}));case 2:case"end":return e.stop()}}),e)})))()},onFileChange:function(t){var e=t.target.files[0];this.url=URL.createObjectURL(e)},onFileChangeFirma:function(t){var e=t.target.files[0];this.url_firma=URL.createObjectURL(e)},toggleModal:function(){this.modal=!this.modal},session:function(){if(localStorage.getItem("token")){var t=localStorage.getItem("token");this.guardarUsuario(t)}else this.$router.push({name:"Home"})}}),created:function(){this.session(),this.listarclientes(),this.listarUsers()},computed:{rows:function(){return this.proyectos.length}}},w=_,C=o("2877"),x=Object(C["a"])(w,r,i,!1,null,null,null);e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-21f16fae.532a6d94.js.map